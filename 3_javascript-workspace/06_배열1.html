<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열</title>
    <style>
        .area{
            width: 300px;
            border: 1px solid red;
        }
        .small{
            height: 100px;
        }
        .big{
            height: 300px;
        }
    </style>
</head>
<body>
    <h1>배열</h1>

    <p>
        자바스크립트에서는 변수 선언시 별도의 자료형 지정이 없기 때문에<br>
        어떤 자료형의 값들이던 다 하나의 배열공간에 담을 수 있음(자바컬렉션과 유사)
    </p>

    <button onclick="arrayTest1();">확인하기</button>
    <div id="area1" class="area small"></div>

    <script>
        function arrayTest1(){

            let arr = ["홍길동", '서울', 20, true, [1,2,3]];

            console.log(arr);
            console.log(arr[2]);
            console.log(arr[4]);
            console.log(arr[4][1]);

            let area1 = document.querySelector("#area1");

            // 기본적인 반복문.
            
            for(let i = 0; i<arr.length; i++){
                //area1.innerHTML += arr[i]+"<br>";
            }

            //향상된 반복문.
            for(let item of arr){
                //area1.innerHTML += item +"<br>";
            }

            //for(let 변수명 in 순차적으로 접근할 객체)
            for(let i in arr){// i= 0부터 마지막 인덱스까지 자동으로 증가
                //area1.innerHTML += arr[i]+"<br>";
            }

            let obj = {key : "value"}; //객체를 선언과 동시에 초기화

            obj.newKey = "value";// 객체에 새로운 key, value를 추가

            console.log(obj);

            arr.newKey = "value";
            console.log(arr);

            for(let i in arr){// i= 0부터 마지막 인덱스까지 자동으로 증가
                //area1.innerHTML += arr[i]+"<br>";//newKey의 value값이 추가됨.
            }

            for(let item of arr){
                area1.innerHTML += item +"<br>";
            }
        }
    </script>

    <hr>

    <h3>* 배열의 선언</h3>
    <p>
        배열 선언시 배열 크기를 지정한채로 선언하거나, 크기를 지정안해도됨.
    </p>

    <button onclick="arrayTest2();">확인하기</button>

    <script>
        function arrayTest2() {
            let arr1 = new Array(); // 배열의 크기가 0인 빈 배열
            // let arr1 = [];
            let arr2 = new Array(3); // 배열의 크기가 3인 빈 배열
            let arr3 = []; //가장 많이 사용하는 방법.

            arr3[4] = 0; // 값은 한개 추가했지만 앞의 인덱스에 빈값으로 초기화되고,
            // 배열의 길이도 5로 수정됨.

            console.log(arr1);
            console.log(arr2);
            console.log(arr3);

            arr1[0] = "바나나"; // 배열의 크기 : 1
            arr1[1] = "키위"; // 배열의 크기 : 2
            arr1[10] = "사과"; // 배열의 크기 : 3 x 11 (2~9 인덱스는 비어있음.)

            console.log(arr1);// 이런식으로 사용하지 않는다. 비어있는 공간이 비효율적

            arr2[0]=1;// 배열의 크기 : 3
            arr2[1]=2;// 배열의 크기 : 3
            arr2[2]=3;// 배열의 크기 : 3
            arr2[3]=4;// 배열의 크기가 4로 증가함.

            console.log(arr2);

            // 배열 선언과 동시에 초기화
            let arr4 = new Array("홍길동","이범석");
            let arr5 = ["java","oracle","jdbc"]; 

            console.log(arr4);
            console.log(arr5);
        }
    </script>

    <hr>

    <h3> * Array 객체의 메소드</h3>

    <h4>1) indexOf(찾고자하는 요소) : 배열에서 해당요소가 위치해 있는 인덱스를 반환.</h4>

    <div id="area2" class="area small"></div>

    <button onclick="indexOfTest();">확인하기</button>

    <script>
        function indexOfTest(){
            
            let area2 = document.getElementById("area2");

            let arr = ["사과", "복숭아", "자두", "딸기", "바나나"];
            let fruit = prompt("찾고자 하는 과일명을 입력하시요.");

            let index = arr.indexOf(fruit); // 배열에 없는 요소를 입력시 -1

            console.log(index);
            // 과일이 배열에 있을때 : index >= 0 
            // 당신이 찾는 과일 xxx는 x번째 인덱스에 있습니다.
            // 과일이 배열에 없을때 : index == -1
            // 당신이 찾는 과일 xxx는 판매하지 않습니다.

            area2.innerHTML += "당신이 찾는 과일 "+fruit+"는 ";
            if(index == -1){
                area2.innerHTML +="판매하지 않습니다.<br>"; 
            }else{
                area2.innerHTML += index+"번째 인덱스에 있습니다.<br>";
            }

            console.log(1 == 1); //
            console.log(1 == "1"); // true 동등연산자(자료형은 비교하지 않음.)
            console.log(1===1); // // false 일치연산자 : 자료형 , 값 둘다 일치
        }
    </script>

    <hr>

    <h4>2) concat(배열, 배열, ) : 여러개의 배열을 결합하고자 할때 사용.</h4>

    <div id="area3" class="area big"></div>

    <button onclick="concatTest();">확인하기</button>

    <script>
        function concatTest(){


            let arr1 = ["사과", "딸기"];
            let arr2 = ["자동차", "오토바이", "비행기"];

            let area3 = document.querySelector("#area3");

            area3.innerHTML += "arr1 : "+arr1+"<br>" ;
            area3.innerHTML += "arr2 : "+arr2+"<br>";

            area3.innerHTML += "arr1 기준으로 배열을 합치기 :"+
            arr1.concat(arr2)+"<br>";
            area3.innerHTML += "원본 arr1 : "+arr1+"<br>";

            area3.innerHTML += " arr2기준으로 배열을 합치기 : "+
            arr2.concat(arr1)+"<br>";
            area3.innerHTML += "여러개의 배열을 합치기 : "+
            [].concat(arr1, arr2, [1,2,3]);
        }
    </script>

    <hr>

    <h4>3) reverse() : 배열에 담긴 값을 역순으로 바꿔주는 메소드</h4>
    <div id="area4" class="area small"></div>
    <button onclick="reverseTest();">확인하기</button>

    <script>
        function reverseTest(){
            let arr = [1,2,3,4,5];

            let area4 = document.querySelector("#area4");

            area4.innerHTML += "arr : "+arr+"<br>";
            area4.innerHTML += "리버스한 결과 : "+arr.reverse()+"<br>";
            area4.innerHTML += "원본배열 : "+arr+"<br>";
            // 원본배열에 영향을 끼침.
        }
    </script>

    <h4>4) sort() : 배열안에 담긴 값들을 오름차순으로 정렬시켜주는 메서드</h4>
    <div id="area5" class="area small"></div>
    <button onclick="sortTest();">확인하기</button>

    <script>
        function sortTest(){
            let area5 = document.querySelector("#area5");

            let arr = ["가","다","라","마", "나"];
            
            area5.innerHTML += "arr : "+arr+"<br>";
            area5.innerHTML += "sort 결과 : "+arr.sort()+"<br>";
            area5.innerHTML += "다시 arr : "+arr+"<br>"; // 원본배열에 영향을 끼침

            //내림차순 정렬하고싶을때  => 오름차순 정렬후 뒤집기.
            area5.innerHTML += "내림차순 : "+arr.sort().reverse()+"<br>";

            //특이 케이스
            let arr2 = [1,2,15];
            console.log(arr2.sort()); // 숫자를 문자로 인식해서 정렬하기 때문에 1이 첫번째로 옴
            // sort시 내부요소를 문자열로 취급하여 정렬해서
            //문자열 기준 오름차순이 완성됨.

            // 기존 정렬기준 대신 새로운 정렬 만들고 싶은경우
            // 1) 정렬기준을 새로만듬
            function compare(a,b){
                if(a > b){
                    return 10; // 첫번째 요소가 두번째 보다 큰 경우 
                    // return 값은  양수값 음수값 아무거나 와도 상관없음
                    // return 1이면 오름차순 -1이면 내림차순
                }
                if(a == b){
                    return 0;
                }
                if(a < b){
                    return -19;
                }
            }
            // 2) sort매서드 안에 내가 만든 정렬 기준을 추가
            console.log(arr2.sort(compare));

            // 2-1) 그외에 방법
            console.log(arr2.sort(function(a,b){return a-b;}));
            // 양수반환시 a의 값이 더크고, 음수반환시 b의 값이 더 큰것을 의미.

            console.log(arr2.sort((a,b) => a-b));
        }
    </script>

    <h4>
        5_1) push(추가할 요소) : 배열의 맨뒤에 요소를 추가하고, 배열의 크기를 반환. <br>
        5_2) pop() : 배열의 맨 뒤 요소를 '제거'하고 제거된 요소를 반환.
    </h4>

    <div id="area6" class="area big"></div>
    <button onclick="pushPopTest();">확인하기</button>

    <script>
        function pushPopTest(){
            let area6 = document.querySelector("#area6");

            let arr = ["서초동","방배동","역삼동","삼성동","대치동"];

            //arr[arr.length-1] = "?"; 요렇게도 추가 가능

            area6.innerHTML = "arr : "+arr+"<br>";
            arr.push("신사동");
            area6.innerHTML += "arr에 push후 : "+arr+"<br>";
            area6.innerHTML += "arr에 push후 배열의 크기 : "+arr.push("논현동")+"<br>";

            area6.innerHTML += "arr에 pop후 : "+arr.pop()+"<br>";
            area6.innerHTML += "원본 arr : "+arr+"<br>";

            arr.pop();
            arr.pop();
            arr.pop();

            area6.innerHTML += "최종 arr : "+arr+"<br>";

            arr[arr.length] ="목동";
            area6.innerHTML +="arr : "+arr+"<br>";

            arr.length = 1;
            area6.innerHTML += "arr : "+arr+"<br>";
        }
    </script>

    <hr>
    
    <h4>
        6_1) unshift(추가할 요소) : 배열의 맨앞에 요소 추가후 크기 반환 <br>
        6_2) shift() : 배열의 맨앞 요소 제거하고 제거된 요소를 반환
    </h4>

    <div id="area7" class="area big"></div>
    <button onclick="shiftTest();">확인하기</button>

    <script>
        function shiftTest(){
            let area7 = document.querySelector("#area7");
            
            let arr = ["야구","볼링","테니스","탁구"];
            area7.innerHTML = "arr : "+arr+"<br>";
            arr.unshift("농구");
            area7.innerHTML += "arr에 unshift 후 : "+arr+"<br>";
            area7.innerHTML += "arr에 unshift 후 배열의 크기 : "+
            arr.unshift("당구")+"<br>";

            area7.innerHTML += "arr에 shift : "+arr.shift()+"<br>";
            area7.innerHTML += "최종 arr : "+arr+"<br>";
        }
    </script>
</body>
</html>